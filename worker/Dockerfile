FROM node:18

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

# Set environment variables
ARG WALLET_PV_KEY
ARG BLOCKCHAIN_RPC_URL
ARG NFT_RENT_MARKETPLACE_CONTRACT
ARG NFT_RENT_MARKETPLACE_API

ENV WALLET_PV_KEY=$WALLET_PV_KEY
ENV BLOCKCHAIN_RPC_URL=$BLOCKCHAIN_RPC_URL
ENV NFT_RENT_MARKETPLACE_CONTRACT=$NFT_RENT_MARKETPLACE_CONTRACT
ENV NFT_RENT_MARKETPLACE_API=$NFT_RENT_MARKETPLACE_API

# Run app.js when the container launches
CMD ["node", "app.js"]